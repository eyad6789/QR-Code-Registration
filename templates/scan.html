<!DOCTYPE html>
<html>
<head>
    <title>Scan QR Code</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
    <!-- Include the jsQR library from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsqr/1.3.1/jsQR.min.js"></script>
    <script src="{{ url_for('static', filename='js/scanner.js') }}"></script>
</head>
<body>
    <h2>Scan QR Code</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul>
          {% for category, message in messages %}
            <li class="{{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    <!-- Video element for camera feed -->
    <video id="video" width="300" height="200" autoplay></video>
    <!-- Hidden canvas for processing frames -->
    <canvas id="canvas" width="300" height="200" hidden></canvas>
    <!-- Form to submit scanned QR code data -->
    <form id="qrForm" method="POST">
        <input type="hidden" name="qr_data" id="qr_data">
    </form>
    <button onclick="scanQR()">Start Scanning</button>
    <br>
    <a href="{{ url_for('register') }}">Go to Registration Page</a>
</body>
</html>
